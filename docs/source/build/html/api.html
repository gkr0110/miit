

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MIIT Python API &mdash; MIIT 11/02/2025 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=cd42dcda" />
      <link rel="stylesheet" type="text/css" href="_static/css/tooltipster.custom.css?v=7bc2f056" />
      <link rel="stylesheet" type="text/css" href="_static/css/tooltipster.bundle.min.css?v=37217874" />
      <link rel="stylesheet" type="text/css" href="_static/css/tooltipster-sideTip-shadow.min.css?v=6227e517" />
      <link rel="stylesheet" type="text/css" href="_static/css/tooltipster-sideTip-punk.min.css?v=94669e23" />
      <link rel="stylesheet" type="text/css" href="_static/css/tooltipster-sideTip-noir.min.css?v=21a39f42" />
      <link rel="stylesheet" type="text/css" href="_static/css/tooltipster-sideTip-light.min.css?v=a18b2449" />
      <link rel="stylesheet" type="text/css" href="_static/css/tooltipster-sideTip-borderless.min.css?v=dbff53e4" />
      <link rel="stylesheet" type="text/css" href="_static/css/micromodal.css?v=d7bf34ee" />
      <link rel="stylesheet" type="text/css" href="_static/css/sphinx_rtd_theme.css?v=3234e928" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=eea51470"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/js/hoverxref.js?v=6ff7264e"></script>
      <script src="_static/js/tooltipster.bundle.min.js?v=18bf091b"></script>
      <script src="_static/js/micromodal.min.js?v=04d6302d"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to MIIT" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            MIIT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">MIIT Python API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#integration">Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#registration">Registration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.registerers.base_registerer">Base Registerer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.registerers.base_registerer.Registerer"><code class="docutils literal notranslate"><span class="pre">Registerer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.registerers.base_registerer.RegistrationResult"><code class="docutils literal notranslate"><span class="pre">RegistrationResult</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.registerers.greedy_f_hist_ext">GreedyFHist</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.registerers.greedy_f_hist_ext.GreedyFHistExt"><code class="docutils literal notranslate"><span class="pre">GreedyFHistExt</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.registerers.greedy_f_hist_ext.GreedyFHistGroupRegistrationResult"><code class="docutils literal notranslate"><span class="pre">GreedyFHistGroupRegistrationResult</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.registerers.greedy_f_hist_ext.GreedyFHistRegistrationResult"><code class="docutils literal notranslate"><span class="pre">GreedyFHistRegistrationResult</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.registerers.manual_affine_registerer">Manual Affine Registerer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.registerers.manual_affine_registerer.ManualAffineRegisterer"><code class="docutils literal notranslate"><span class="pre">ManualAffineRegisterer</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.registerers.nifty_reg">NiftyReg</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.registerers.nifty_reg.NiftyRegRegistrationResult"><code class="docutils literal notranslate"><span class="pre">NiftyRegRegistrationResult</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.registerers.nifty_reg.NiftyRegWrapper"><code class="docutils literal notranslate"><span class="pre">NiftyRegWrapper</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.registerers.opencv_affine_registerer">OpenCVAffineRegisterer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.registerers.opencv_affine_registerer.OpenCVAffineRegisterer"><code class="docutils literal notranslate"><span class="pre">OpenCVAffineRegisterer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.registerers.opencv_affine_registerer.OpenCVAffineTransformation"><code class="docutils literal notranslate"><span class="pre">OpenCVAffineTransformation</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.registerers.other.msi_to_hist_meta_registerer">MSI to Histology Meta Registerer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.registerers.other.msi_to_hist_meta_registerer.MSItoHistMetaRegisterer"><code class="docutils literal notranslate"><span class="pre">MSItoHistMetaRegisterer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.registerers.other.msi_to_hist_meta_registerer.MSItoHistMetaRegistererResult"><code class="docutils literal notranslate"><span class="pre">MSItoHistMetaRegistererResult</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#spatial-data">Spatial Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.spatial_data.base_types.base_imaging">Base image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.spatial_data.base_types.image">Image</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.base_types.image.Image"><code class="docutils literal notranslate"><span class="pre">Image</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.spatial_data.base_types.annotation">Annotation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.base_types.annotation.Annotation"><code class="docutils literal notranslate"><span class="pre">Annotation</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.spatial_data.base_types.ometiff_image">OMETIFF-Image</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.base_types.ometiff_image.OMETIFFImage"><code class="docutils literal notranslate"><span class="pre">OMETIFFImage</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.spatial_data.base_types.ometiff_annotation">OMETIFF-Annotation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.base_types.ometiff_annotation.OMETIFFAnnotation"><code class="docutils literal notranslate"><span class="pre">OMETIFFAnnotation</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.spatial_data.base_types.pointset">Pointset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.base_types.pointset.Pointset"><code class="docutils literal notranslate"><span class="pre">Pointset</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.spatial_data.base_types.geojson">GeoJson</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.base_types.geojson.GeoJSONData"><code class="docutils literal notranslate"><span class="pre">GeoJSONData</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.base_types.geojson.warp_geojson_coord_tuple__"><code class="docutils literal notranslate"><span class="pre">warp_geojson_coord_tuple__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.spatial_data.spatial_omics.visium">Visium</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.visium.Visium"><code class="docutils literal notranslate"><span class="pre">Visium</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.visium.compose_dicts"><code class="docutils literal notranslate"><span class="pre">compose_dicts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.visium.convert_table_to_mat"><code class="docutils literal notranslate"><span class="pre">convert_table_to_mat()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.visium.fill_measurement_matrix"><code class="docutils literal notranslate"><span class="pre">fill_measurement_matrix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.visium.get_measurement_dict"><code class="docutils literal notranslate"><span class="pre">get_measurement_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.visium.get_scalefactor"><code class="docutils literal notranslate"><span class="pre">get_scalefactor()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.visium.load_visium_data_matrix"><code class="docutils literal notranslate"><span class="pre">load_visium_data_matrix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.visium.scale_tissue_positions"><code class="docutils literal notranslate"><span class="pre">scale_tissue_positions()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.spatial_data.spatial_omics.imzml">Imzml</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.Imzml"><code class="docutils literal notranslate"><span class="pre">Imzml</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.compose_dicts"><code class="docutils literal notranslate"><span class="pre">compose_dicts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.compute_mean_spectrum"><code class="docutils literal notranslate"><span class="pre">compute_mean_spectrum()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.compute_weighted_average"><code class="docutils literal notranslate"><span class="pre">compute_weighted_average()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.convert_msi_to_reference_matrix"><code class="docutils literal notranslate"><span class="pre">convert_msi_to_reference_matrix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.convert_to_matrix"><code class="docutils literal notranslate"><span class="pre">convert_to_matrix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.export_imzml"><code class="docutils literal notranslate"><span class="pre">export_imzml()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.find_nearest"><code class="docutils literal notranslate"><span class="pre">find_nearest()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.flatten_to_row"><code class="docutils literal notranslate"><span class="pre">flatten_to_row()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.get_metabolite_intensities"><code class="docutils literal notranslate"><span class="pre">get_metabolite_intensities()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.get_metabolite_intensities_preprocessed"><code class="docutils literal notranslate"><span class="pre">get_metabolite_intensities_preprocessed()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.get_metabolite_intensities_targeted"><code class="docutils literal notranslate"><span class="pre">get_metabolite_intensities_targeted()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.msi_default_accumulate_spot_weighted_mean"><code class="docutils literal notranslate"><span class="pre">msi_default_accumulate_spot_weighted_mean()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.msi_default_spot_accumulation_fun"><code class="docutils literal notranslate"><span class="pre">msi_default_spot_accumulation_fun()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.simple_baseline"><code class="docutils literal notranslate"><span class="pre">simple_baseline()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.tic_trapz"><code class="docutils literal notranslate"><span class="pre">tic_trapz()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.spatial_data.section">Section</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#utils">Utils</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.utils.qupath">QuPath</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.utils.qupath.convert_linestring_to_polygon"><code class="docutils literal notranslate"><span class="pre">convert_linestring_to_polygon()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.utils.qupath.fill_geojson_multipolygon"><code class="docutils literal notranslate"><span class="pre">fill_geojson_multipolygon()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.utils.qupath.fill_geojson_polygon"><code class="docutils literal notranslate"><span class="pre">fill_geojson_polygon()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.utils.qupath.geojson_to_annotation"><code class="docutils literal notranslate"><span class="pre">geojson_to_annotation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.utils.qupath.resolve_naming_conflicts_fun"><code class="docutils literal notranslate"><span class="pre">resolve_naming_conflicts_fun()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.utils.qupath.simple_naming_function"><code class="docutils literal notranslate"><span class="pre">simple_naming_function()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-miit.utils.scils">SCiLS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#miit.utils.scils.read_srd"><code class="docutils literal notranslate"><span class="pre">read_srd()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#miit.utils.scils.read_srd_with_msi"><code class="docutils literal notranslate"><span class="pre">read_srd_with_msi()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


    


        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MIIT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">MIIT Python API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="miit-python-api">
<h1>MIIT Python API<a class="headerlink" href="#miit-python-api" title="Link to this heading">¶</a></h1>
<section id="integration">
<h2>Integration<a class="headerlink" href="#integration" title="Link to this heading">¶</a></h2>
</section>
<section id="registration">
<h2>Registration<a class="headerlink" href="#registration" title="Link to this heading">¶</a></h2>
<section id="module-miit.registerers.base_registerer">
<span id="base-registerer"></span><h3>Base Registerer<a class="headerlink" href="#module-miit.registerers.base_registerer" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="miit.registerers.base_registerer.Registerer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.registerers.base_registerer.</span></span><span class="sig-name descname"><span class="pre">Registerer</span></span><a class="reference internal" href="_modules/miit/registerers/base_registerer.html#Registerer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.registerers.base_registerer.Registerer" title="Link to this definition">¶</a></dt>
<dd><p>Provides methods that each registerer should implement.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="miit.registerers.base_registerer.RegistrationResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.registerers.base_registerer.</span></span><span class="sig-name descname"><span class="pre">RegistrationResult</span></span><a class="reference internal" href="_modules/miit/registerers/base_registerer.html#RegistrationResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.registerers.base_registerer.RegistrationResult" title="Link to this definition">¶</a></dt>
<dd><p>Should be returned after for each pairwise registration.</p>
</dd></dl>

</section>
<section id="module-miit.registerers.greedy_f_hist_ext">
<span id="greedyfhist"></span><h3>GreedyFHist<a class="headerlink" href="#module-miit.registerers.greedy_f_hist_ext" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="miit.registerers.greedy_f_hist_ext.GreedyFHistExt">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.registerers.greedy_f_hist_ext.</span></span><span class="sig-name descname"><span class="pre">GreedyFHistExt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">registerer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GreedyFHist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/registerers/greedy_f_hist_ext.html#GreedyFHistExt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.registerers.greedy_f_hist_ext.GreedyFHistExt" title="Link to this definition">¶</a></dt>
<dd><p>Wrapper for GreedyFHist algorithm.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="miit.registerers.greedy_f_hist_ext.GreedyFHistGroupRegistrationResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.registerers.greedy_f_hist_ext.</span></span><span class="sig-name descname"><span class="pre">GreedyFHistGroupRegistrationResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">registration_result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">greedyfhist.registration.result_types.GroupwiseRegResult</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/registerers/greedy_f_hist_ext.html#GreedyFHistGroupRegistrationResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.registerers.greedy_f_hist_ext.GreedyFHistGroupRegistrationResult" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="miit.registerers.greedy_f_hist_ext.GreedyFHistRegistrationResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.registerers.greedy_f_hist_ext.</span></span><span class="sig-name descname"><span class="pre">GreedyFHistRegistrationResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">registration_result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">greedyfhist.registration.result_types.RegistrationResult</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/registerers/greedy_f_hist_ext.html#GreedyFHistRegistrationResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.registerers.greedy_f_hist_ext.GreedyFHistRegistrationResult" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-miit.registerers.manual_affine_registerer">
<span id="manual-affine-registerer"></span><h3>Manual Affine Registerer<a class="headerlink" href="#module-miit.registerers.manual_affine_registerer" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="miit.registerers.manual_affine_registerer.ManualAffineRegisterer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.registerers.manual_affine_registerer.</span></span><span class="sig-name descname"><span class="pre">ManualAffineRegisterer</span></span><a class="reference internal" href="_modules/miit/registerers/manual_affine_registerer.html#ManualAffineRegisterer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.registerers.manual_affine_registerer.ManualAffineRegisterer" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-miit.registerers.nifty_reg">
<span id="niftyreg"></span><h3>NiftyReg<a class="headerlink" href="#module-miit.registerers.nifty_reg" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="miit.registerers.nifty_reg.NiftyRegRegistrationResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.registerers.nifty_reg.</span></span><span class="sig-name descname"><span class="pre">NiftyRegRegistrationResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SimpleITK.SimpleITK.Transform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downscaling_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orig_target_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmdln_returns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/registerers/nifty_reg.html#NiftyRegRegistrationResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.registerers.nifty_reg.NiftyRegRegistrationResult" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="miit.registerers.nifty_reg.NiftyRegWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.registerers.nifty_reg.</span></span><span class="sig-name descname"><span class="pre">NiftyRegWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'NiftyRegWrapper'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_nifty_reg_aladin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_nifty_reg_f3d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_nifty_reg_resample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_nifty_reg_transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/registerers/nifty_reg.html#NiftyRegWrapper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.registerers.nifty_reg.NiftyRegWrapper" title="Link to this definition">¶</a></dt>
<dd><p>Wrapper for NiftyReg registration algorithm (<a class="reference external" href="https://github.com/KCL-BMEIS/niftyreg">https://github.com/KCL-BMEIS/niftyreg</a>).
At the moment only rigid registration is supported.</p>
</dd></dl>

</section>
<section id="module-miit.registerers.opencv_affine_registerer">
<span id="opencvaffineregisterer"></span><h3>OpenCVAffineRegisterer<a class="headerlink" href="#module-miit.registerers.opencv_affine_registerer" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="miit.registerers.opencv_affine_registerer.OpenCVAffineRegisterer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.registerers.opencv_affine_registerer.</span></span><span class="sig-name descname"><span class="pre">OpenCVAffineRegisterer</span></span><a class="reference internal" href="_modules/miit/registerers/opencv_affine_registerer.html#OpenCVAffineRegisterer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.registerers.opencv_affine_registerer.OpenCVAffineRegisterer" title="Link to this definition">¶</a></dt>
<dd><p>Landmark registerer for rigid/affine alignments. Based on OpenCV
functionality (<a class="reference external" href="https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_feature2d/py_feature_homography/py_feature_homography.html">https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_feature2d/py_feature_homography/py_feature_homography.html</a>).
This registerer is mostly suitable for matching the
same tissue section, e.g. when part of the image is cropped and
needs to be aligned to the reference image.</p>
<dl class="py method">
<dt class="sig sig-object py" id="miit.registerers.opencv_affine_registerer.OpenCVAffineRegisterer.register_">
<span class="sig-name descname"><span class="pre">register_</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">moving_img</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_img</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_detector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sift'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rigid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warn_angle_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_match_count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flann_index_kdtree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flann_trees</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flann_checks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matching_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matching_criteron_distance_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#miit.registerers.opencv_affine_registerer.OpenCVAffineTransformation" title="miit.registerers.opencv_affine_registerer.OpenCVAffineTransformation"><span class="pre">OpenCVAffineTransformation</span></a></span></span><a class="reference internal" href="_modules/miit/registerers/opencv_affine_registerer.html#OpenCVAffineRegisterer.register_"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.registerers.opencv_affine_registerer.OpenCVAffineRegisterer.register_" title="Link to this definition">¶</a></dt>
<dd><p>co-registers two images and returns the moving image warped to fit target_img and the respective transform matrix
Script is very close to OpenCV2 image co-registration tutorial:
<a class="reference external" href="https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_feature2d/py_feature_homography/py_feature_homography.html">https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_feature2d/py_feature_homography/py_feature_homography.html</a>
only addition/change here: rigid transform &amp; no rotation option</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>moving_img</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>fixed_img</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>feature_detector</strong> (<em>str</em>)</p></li>
<li><p><strong>rigid</strong> (<em>bool</em>) – if true only tranlation, rotation, and uniform scale</p></li>
<li><p><strong>rotation</strong> (<em>bool</em>) – if false no rotation</p></li>
<li><p><strong>warn_angle_deg</strong> (<em>int</em>) – cuttoff for warning check if supposed rotation angle bigger in case of rotation=False</p></li>
<li><p><strong>min_match_count</strong> (<em>int</em>) – min good feature matches</p></li>
<li><p><strong>flann_index_kdtree</strong> (<em>int</em>) – define algorithm for Fast Library for Approximate Nearest Neighbors - see FLANN doc</p></li>
<li><p><strong>flann_trees</strong> (<em>int</em>)</p></li>
<li><p><strong>flan_checks</strong> (<em>int</em>)</p></li>
<li><p><strong>matching_method</strong> (<em>int</em>)</p></li>
<li><p><strong>matching_criteron_distance_factor</strong> (<em>float</em>)</p></li>
<li><p><strong>n_features</strong> (<em>int</em>)</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="miit.registerers.opencv_affine_registerer.OpenCVAffineTransformation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.registerers.opencv_affine_registerer.</span></span><span class="sig-name descname"><span class="pre">OpenCVAffineTransformation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transformation_matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_pts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_pts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/registerers/opencv_affine_registerer.html#OpenCVAffineTransformation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.registerers.opencv_affine_registerer.OpenCVAffineTransformation" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-miit.registerers.other.msi_to_hist_meta_registerer">
<span id="msi-to-histology-meta-registerer"></span><h3>MSI to Histology Meta Registerer<a class="headerlink" href="#module-miit.registerers.other.msi_to_hist_meta_registerer" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="miit.registerers.other.msi_to_hist_meta_registerer.MSItoHistMetaRegisterer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.registerers.other.msi_to_hist_meta_registerer.</span></span><span class="sig-name descname"><span class="pre">MSItoHistMetaRegisterer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">registerer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#miit.registerers.base_registerer.Registerer" title="miit.registerers.base_registerer.Registerer"><span class="pre">Registerer</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/registerers/other/msi_to_hist_meta_registerer.html#MSItoHistMetaRegisterer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.registerers.other.msi_to_hist_meta_registerer.MSItoHistMetaRegisterer" title="Link to this definition">¶</a></dt>
<dd><p>Registerer for MSI data with Histology.</p>
<p>This registerer works as meta registerer. Mostly contains preprocessing methods for msi and histology data.
An additional registration algorithm needs to be provided.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="miit.registerers.other.msi_to_hist_meta_registerer.MSItoHistMetaRegistererResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.registerers.other.msi_to_hist_meta_registerer.</span></span><span class="sig-name descname"><span class="pre">MSItoHistMetaRegistererResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reg_result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#miit.registerers.base_registerer.RegistrationResult" title="miit.registerers.base_registerer.RegistrationResult"><span class="pre">miit.registerers.base_registerer.RegistrationResult</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">processing_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/registerers/other/msi_to_hist_meta_registerer.html#MSItoHistMetaRegistererResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.registerers.other.msi_to_hist_meta_registerer.MSItoHistMetaRegistererResult" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
</section>
<section id="spatial-data">
<h2>Spatial Data<a class="headerlink" href="#spatial-data" title="Link to this heading">¶</a></h2>
<section id="module-miit.spatial_data.base_types.base_imaging">
<span id="base-image"></span><h3>Base image<a class="headerlink" href="#module-miit.spatial_data.base_types.base_imaging" title="Link to this heading">¶</a></h3>
</section>
<section id="module-miit.spatial_data.base_types.image">
<span id="image"></span><h3>Image<a class="headerlink" href="#module-miit.spatial_data.base_types.image" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.image.Image">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.spatial_data.base_types.image.</span></span><span class="sig-name descname"><span class="pre">Image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data:</span> <span class="pre">'numpy.ndarray'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta_information:</span> <span class="pre">'dict'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution:</span> <span class="pre">'tuple[DUnit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DUnit]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/spatial_data/base_types/image.html#Image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.image.Image" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-miit.spatial_data.base_types.annotation">
<span id="annotation"></span><h3>Annotation<a class="headerlink" href="#module-miit.spatial_data.base_types.annotation" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.annotation.Annotation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.spatial_data.base_types.annotation.</span></span><span class="sig-name descname"><span class="pre">Annotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data:</span> <span class="pre">~numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta_information:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution:</span> <span class="pre">tuple[~miit.utils.distance_unit.DUnit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~miit.utils.distance_unit.DUnit]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels:</span> <span class="pre">list[str]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_multichannel:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/spatial_data/base_types/annotation.html#Annotation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.annotation.Annotation" title="Link to this definition">¶</a></dt>
<dd><p>Annotations consists of a spatially resolved map of discrete
classes. Classes can either be scalar of vector valued. Annotations
are either single- or multichannel. Singlechannel annotations are
either of shape W x H x C or W x H where each channel is assumed to be
binary. Multichannel annotations are of shape W X H where each pixel is an
integer value presentation either no class (0) or a class (&gt; 0).</p>
<p>Image transformations applied to annotations should use a
nearest neighbor interpolation to not introduce new classes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.annotation.Annotation.convert_to_multichannel">
<span class="sig-name descname"><span class="pre">convert_to_multichannel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/spatial_data/base_types/annotation.html#Annotation.convert_to_multichannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.annotation.Annotation.convert_to_multichannel" title="Link to this definition">¶</a></dt>
<dd><p>Converts an Annotation object to multichannel.</p>
<p>Note: If a pixel is assigned more than one class in a singlechannel mode,
converting to multichannel mode will only preserve on class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.annotation.Annotation.convert_to_singlechannel">
<span class="sig-name descname"><span class="pre">convert_to_singlechannel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/spatial_data/base_types/annotation.html#Annotation.convert_to_singlechannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.annotation.Annotation.convert_to_singlechannel" title="Link to this definition">¶</a></dt>
<dd><p>Converts the Annotation object to a multichannel Annotation object.</p>
<p>Note: A multichannel annotation object saves more memory, but every pixel can contain only 1 annotations. If the singlechannel annotation
object has overlapping annotations, only one of those annotations will be kept.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.annotation.Annotation.load_from_path">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_multichannel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#miit.spatial_data.base_types.annotation.Annotation" title="miit.spatial_data.base_types.annotation.Annotation"><span class="pre">Annotation</span></a></span></span><a class="reference internal" href="_modules/miit/spatial_data/base_types/annotation.html#Annotation.load_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.annotation.Annotation.load_from_path" title="Link to this definition">¶</a></dt>
<dd><p>Loads an Annotation object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_to_data</strong> (<em>str</em>) – Path to spatial data.</p></li>
<li><p><strong>path_to_labels</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Path to labels file. Labels are a separated by a newline. In None, default labels are derived. Defaults to None.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Optional object identifier. Defaults to ‘’.</p></li>
<li><p><strong>is_multichannel</strong> (<em>bool</em><em>, </em><em>optional</em>) – Indicates whether the image is single- or multichannel. Defaults to False.</p></li>
<li><p><strong>channel_idx</strong> (<em>int</em><em>, </em><em>optional</em>) – Denotes the channel index of the image data. Ignored if annotation has shape W x H. Defaults to -1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Initialized Annotation object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#miit.spatial_data.base_types.annotation.Annotation" title="miit.spatial_data.base_types.annotation.Annotation">Annotation</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.annotation.Annotation.plot_annotation">
<span class="sig-name descname"><span class="pre">plot_annotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_layout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_off</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">BaseImage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/spatial_data/base_types/annotation.html#Annotation.plot_annotation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.annotation.Annotation.plot_annotation" title="Link to this definition">¶</a></dt>
<dd><p>Utility function for plotting an annotation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid_layout</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Describes the layout of the grid. If None or ‘square’,
arranges subplots in a square shape. If the ‘sqaure’ option is used, empty rows will be ommitted. Otherwise
uses the grid specified as a tuple. Defaults to None.</p></li>
<li><p><strong>image_scale</strong> (<em>int</em><em>, </em><em>optional</em>) – Image scale in plot. Defaults to 6.</p></li>
<li><p><strong>plot_labels</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, plots labels. Defaults to True.</p></li>
<li><p><strong>axis_off</strong> (<em>bool</em><em>, </em><em>optional</em>) – Removes axis description. Defaults to True.</p></li>
<li><p><strong>reference_image</strong> (<em>Optional</em><em>[</em><em>numpy.ndarray</em><em>]</em><em>, </em><em>optional</em>) – Optional reference image to add. If not None, will be the first image in the plot.
Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – Exception if an unknown argument for the grid_layout is supplied.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-miit.spatial_data.base_types.ometiff_image">
<span id="ometiff-image"></span><h3>OMETIFF-Image<a class="headerlink" href="#module-miit.spatial_data.base_types.ometiff_image" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.ometiff_image.OMETIFFImage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.spatial_data.base_types.ometiff_image.</span></span><span class="sig-name descname"><span class="pre">OMETIFFImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data:</span> <span class="pre">~numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta_information:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution:</span> <span class="pre">tuple[~miit.utils.distance_unit.DUnit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~miit.utils.distance_unit.DUnit]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_ome:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tif_metadata:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/spatial_data/base_types/ometiff_image.html#OMETIFFImage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.ometiff_image.OMETIFFImage" title="Link to this definition">¶</a></dt>
<dd><p>Class for processing TIFF and OMETIFF images.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.ometiff_image.OMETIFFImage.data">
<span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#miit.spatial_data.base_types.ometiff_image.OMETIFFImage.data" title="Link to this definition">¶</a></dt>
<dd><p>Image data as a numpy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.ometiff_image.OMETIFFImage.path">
<span class="sig-name descname"><span class="pre">path</span></span><a class="headerlink" href="#miit.spatial_data.base_types.ometiff_image.OMETIFFImage.path" title="Link to this definition">¶</a></dt>
<dd><p>Original file path.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.ometiff_image.OMETIFFImage.tif">
<span class="sig-name descname"><span class="pre">tif</span></span><a class="headerlink" href="#miit.spatial_data.base_types.ometiff_image.OMETIFFImage.tif" title="Link to this definition">¶</a></dt>
<dd><p>Connection to tif image information.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tifffile.tifffile.TiffFile</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.ometiff_image.OMETIFFImage.is_ome">
<span class="sig-name descname"><span class="pre">is_ome</span></span><a class="headerlink" href="#miit.spatial_data.base_types.ometiff_image.OMETIFFImage.is_ome" title="Link to this definition">¶</a></dt>
<dd><p>Indicates whether the read file is ome.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-miit.spatial_data.base_types.ometiff_annotation">
<span id="ometiff-annotation"></span><h3>OMETIFF-Annotation<a class="headerlink" href="#module-miit.spatial_data.base_types.ometiff_annotation" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.ometiff_annotation.OMETIFFAnnotation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.spatial_data.base_types.ometiff_annotation.</span></span><span class="sig-name descname"><span class="pre">OMETIFFAnnotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data:</span> <span class="pre">'numpy.ndarray'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta_information:</span> <span class="pre">'dict'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution:</span> <span class="pre">'tuple[DUnit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DUnit]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels:</span> <span class="pre">list[str]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_multichannel:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_axis_orientation:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_ome:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tif_metadata:</span> <span class="pre">dict</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/spatial_data/base_types/ometiff_annotation.html#OMETIFFAnnotation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.ometiff_annotation.OMETIFFAnnotation" title="Link to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.ometiff_annotation.OMETIFFAnnotation.load_from_path">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_axis_orientation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_multichannel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#miit.spatial_data.base_types.ometiff_annotation.OMETIFFAnnotation" title="miit.spatial_data.base_types.ometiff_annotation.OMETIFFAnnotation"><span class="pre">OMETIFFAnnotation</span></a></span></span><a class="reference internal" href="_modules/miit/spatial_data/base_types/ometiff_annotation.html#OMETIFFAnnotation.load_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.ometiff_annotation.OMETIFFAnnotation.load_from_path" title="Link to this definition">¶</a></dt>
<dd><p>Loads an Annotation object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_to_data</strong> (<em>str</em>) – Path to spatial data.</p></li>
<li><p><strong>path_to_labels</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Path to labels file. Labels are a separated by a newline. In None, default labels are derived. Defaults to None.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Optional object identifier. Defaults to ‘’.</p></li>
<li><p><strong>is_multichannel</strong> (<em>bool</em><em>, </em><em>optional</em>) – Indicates whether the image is single- or multichannel. Defaults to False.</p></li>
<li><p><strong>channel_idx</strong> (<em>int</em><em>, </em><em>optional</em>) – Denotes the channel index of the image data. Ignored if annotation has shape W x H. Defaults to -1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Initialized Annotation object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#miit.spatial_data.base_types.annotation.Annotation" title="miit.spatial_data.base_types.annotation.Annotation">Annotation</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-miit.spatial_data.base_types.pointset">
<span id="pointset"></span><h3>Pointset<a class="headerlink" href="#module-miit.spatial_data.base_types.pointset" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.pointset.Pointset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.spatial_data.base_types.pointset.</span></span><span class="sig-name descname"><span class="pre">Pointset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data:</span> <span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta_information:</span> <span class="pre">'dict'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution:</span> <span class="pre">'tuple[DUnit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DUnit]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_axis:</span> <span class="pre">Any</span> <span class="pre">=</span> <span class="pre">'x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_axis:</span> <span class="pre">Any</span> <span class="pre">=</span> <span class="pre">'y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_col:</span> <span class="pre">Optional[Any]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header:</span> <span class="pre">Optional[Any]</span> <span class="pre">=</span> <span class="pre">'infer'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/spatial_data/base_types/pointset.html#Pointset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.pointset.Pointset" title="Link to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.pointset.Pointset.load_from_path">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_axis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_axis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'infer'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#miit.spatial_data.base_types.pointset.Pointset" title="miit.spatial_data.base_types.pointset.Pointset"><span class="pre">Pointset</span></a></span></span><a class="reference internal" href="_modules/miit/spatial_data/base_types/pointset.html#Pointset.load_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.pointset.Pointset.load_from_path" title="Link to this definition">¶</a></dt>
<dd><p>Load a Pointset object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_to_data</strong> (<em>str</em>) – Path to csv file.</p></li>
<li><p><strong>x_axis</strong> (<em>Any</em><em>, </em><em>optional</em>) – Index used to access x axis. Defaults to ‘x’.</p></li>
<li><p><strong>y_axis</strong> (<em>Any</em><em>, </em><em>optional</em>) – Index used to access y axis. Defaults to ‘y’.</p></li>
<li><p><strong>index_col</strong> (<em>Optional</em><em>[</em><em>Any</em><em>]</em><em>, </em><em>optional</em>) – index_col argument passed on to DataFrame. Defaults to None.</p></li>
<li><p><strong>header</strong> (<em>Optional</em><em>[</em><em>Any</em><em>]</em><em>, </em><em>optional</em>) – header argument passed on to DataFrame. Defaults to ‘infer’.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Optional identifier. Defaults to ‘’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Initialized pointset object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#miit.spatial_data.base_types.pointset.Pointset" title="miit.spatial_data.base_types.pointset.Pointset">Pointset</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-miit.spatial_data.base_types.geojson">
<span id="geojson"></span><h3>GeoJson<a class="headerlink" href="#module-miit.spatial_data.base_types.geojson" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.geojson.GeoJSONData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.spatial_data.base_types.geojson.</span></span><span class="sig-name descname"><span class="pre">GeoJSONData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data:</span> <span class="pre">geojson.base.GeoJSON</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta_information:</span> <span class="pre">'dict'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution:</span> <span class="pre">'tuple[DUnit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DUnit]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/spatial_data/base_types/geojson.html#GeoJSONData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.geojson.GeoJSONData" title="Link to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.geojson.GeoJSONData.load_from_path">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_geojson</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#miit.spatial_data.base_types.geojson.GeoJSONData" title="miit.spatial_data.base_types.geojson.GeoJSONData"><span class="pre">GeoJSONData</span></a></span></span><a class="reference internal" href="_modules/miit/spatial_data/base_types/geojson.html#GeoJSONData.load_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.geojson.GeoJSONData.load_from_path" title="Link to this definition">¶</a></dt>
<dd><p>Loads GeoJSONData objectom from path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_to_geojson</strong> (<em>str</em>) – Path to geojson file.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Optional identifier. Defaults to ‘’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Initialized GeoJSONData object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#miit.spatial_data.base_types.geojson.GeoJSONData" title="miit.spatial_data.base_types.geojson.GeoJSONData">GeoJSONData</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.base_types.geojson.warp_geojson_coord_tuple__">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.base_types.geojson.</span></span><span class="sig-name descname"><span class="pre">warp_geojson_coord_tuple__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coord</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registerer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#miit.registerers.base_registerer.Registerer" title="miit.registerers.base_registerer.Registerer"><span class="pre">Registerer</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#miit.registerers.base_registerer.RegistrationResult" title="miit.registerers.base_registerer.RegistrationResult"><span class="pre">RegistrationResult</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/miit/spatial_data/base_types/geojson.html#warp_geojson_coord_tuple__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.base_types.geojson.warp_geojson_coord_tuple__" title="Link to this definition">¶</a></dt>
<dd><p>Transforms coordinates from geojson data from moving to fixed image space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coord</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em>)</p></li>
<li><p><strong>transform</strong> (<em>SimpleITK.SimpleITK.Transform</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[float, float]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-miit.spatial_data.spatial_omics.visium">
<span id="visium"></span><h3>Visium<a class="headerlink" href="#module-miit.spatial_data.spatial_omics.visium" title="Link to this heading">¶</a></h3>
<p>Module that handles Visium data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.visium.Visium">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.visium.</span></span><span class="sig-name descname"><span class="pre">Visium</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#miit.spatial_data.base_types.image.Image" title="miit.spatial_data.base_types.image.Image"><span class="pre">miit.spatial_data.base_types.image.Image</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#miit.spatial_data.base_types.pointset.Pointset" title="miit.spatial_data.base_types.pointset.Pointset"><span class="pre">miit.spatial_data.base_types.pointset.Pointset</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_factors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_ref_mat_creation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tissue_mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/visium.html#Visium"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.visium.Visium" title="Link to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.visium.Visium.from_spcrng">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_spcrng</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'hires'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fullres_image_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#miit.spatial_data.spatial_omics.visium.Visium" title="miit.spatial_data.spatial_omics.visium.Visium"><span class="pre">Visium</span></a></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/visium.html#Visium.from_spcrng"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.visium.Visium.from_spcrng" title="Link to this definition">¶</a></dt>
<dd><p>Initiates Visium10X from spaceranger output directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – output directory of spaceranger, typically named out.</p></li>
<li><p><strong>image_scale</strong> (<em>str</em><em>, </em><em>optional</em>) – Image scale used to st spots. Defaults to ‘hires’.</p></li>
<li><p><strong>fullres_image_path</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to image if ‘fullres’ image scale is used.. Defaults to None.</p></li>
<li><p><strong>config</strong> (<em>dict</em><em>, </em><em>optional</em>) – _description_. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>_description_</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#miit.spatial_data.spatial_omics.visium.Visium" title="miit.spatial_data.spatial_omics.visium.Visium">Visium</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.visium.Visium.from_spcrng_files">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_spcrng_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_scalefactors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_tissue_positions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'hires'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#miit.spatial_data.spatial_omics.visium.Visium" title="miit.spatial_data.spatial_omics.visium.Visium"><span class="pre">Visium</span></a></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/visium.html#Visium.from_spcrng_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.visium.Visium.from_spcrng_files" title="Link to this definition">¶</a></dt>
<dd><p>Loads Visium10X object from spaceranger output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_to_scalefactors</strong> (<em>str</em>)</p></li>
<li><p><strong>path_to_tissue_positions</strong> (<em>str</em>)</p></li>
<li><p><strong>path_to_image</strong> (<em>str</em>)</p></li>
<li><p><strong>image_scale</strong> (<em>str</em>) – One of ‘lowres’, ‘highres’, ‘fullres’. Default is ‘highres’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.visium.compose_dicts">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.visium.</span></span><span class="sig-name descname"><span class="pre">compose_dicts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/visium.html#compose_dicts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.visium.compose_dicts" title="Link to this definition">¶</a></dt>
<dd><p>Composes two dictionaries. If a key is only present in one of the two dictionaries, it
will be skipped.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict1</strong> (<em>dict</em>)</p></li>
<li><p><strong>dict2</strong> (<em>dict</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Composed dictionaries.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.visium.convert_table_to_mat">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.visium.</span></span><span class="sig-name descname"><span class="pre">convert_table_to_mat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measurement_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visium</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#miit.spatial_data.spatial_omics.visium.Visium" title="miit.spatial_data.spatial_omics.visium.Visium"><span class="pre">Visium</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/visium.html#convert_table_to_mat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.visium.convert_table_to_mat" title="Link to this definition">¶</a></dt>
<dd><p>Utility function that uses a visium object to convert integrated data
from a dataframe format to a matrix format by projecting onto the
reference matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>measurement_df</strong> (<em>pandas.DataFrame</em>) – Table containing measurements.</p></li>
<li><p><strong>visium</strong> (<a class="reference internal" href="#miit.spatial_data.spatial_omics.visium.Visium" title="miit.spatial_data.spatial_omics.visium.Visium"><em>Visium</em></a>)</p></li>
<li><p><strong>col</strong> (<em>Any</em>) – Column in measurement_df.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.visium.fill_measurement_matrix">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.visium.</span></span><span class="sig-name descname"><span class="pre">fill_measurement_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measurement_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_mat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">st_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/visium.html#fill_measurement_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.visium.fill_measurement_matrix" title="Link to this definition">¶</a></dt>
<dd><p>Fill the layout defined by ref_mat with values from ST data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>measurement_df</strong> (<em>pandas.DataFrame</em>)</p></li>
<li><p><strong>ref_mat</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>st_table</strong> (<em>pandas.DataFrame</em>)</p></li>
<li><p><strong>col</strong> (<em>Any</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.visium.get_measurement_dict">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.visium.</span></span><span class="sig-name descname"><span class="pre">get_measurement_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/visium.html#get_measurement_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.visium.get_measurement_dict" title="Link to this definition">¶</a></dt>
<dd><p>Converts a dataframe to a dicionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – Source dataframe.</p></li>
<li><p><strong>key_col</strong> (<em>Any</em>) – Column to use as an index for the dataframe.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.visium.get_scalefactor">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.visium.</span></span><span class="sig-name descname"><span class="pre">get_scalefactor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scalefactors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/visium.html#get_scalefactor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.visium.get_scalefactor" title="Link to this definition">¶</a></dt>
<dd><p>Get scalefactors from ST data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scalefactors</strong> (<em>dict</em>)</p></li>
<li><p><strong>image_scale</strong> (<em>str</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.visium.load_visium_data_matrix">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.visium.</span></span><span class="sig-name descname"><span class="pre">load_visium_data_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/visium.html#load_visium_data_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.visium.load_visium_data_matrix" title="Link to this definition">¶</a></dt>
<dd><p>Reads Visium data from SpaceRanger output h5 file and convert to a pandas DataFrane. The dataframe
has the shape (feature, barcode).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path to h5 file.</p></li>
<li><p><strong>row_feature</strong> – Feature name to name rows. If None, features are enumerate. If row_feature
is a list, features are joined by ‘ - ‘.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Visium data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.visium.scale_tissue_positions">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.visium.</span></span><span class="sig-name descname"><span class="pre">scale_tissue_positions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tissue_positions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scalefactors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/visium.html#scale_tissue_positions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.visium.scale_tissue_positions" title="Link to this definition">¶</a></dt>
<dd><p>Scales tissue position according to new scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tissue_positions</strong> (<em>pandas.DataFrame</em>)</p></li>
<li><p><strong>scale_factors</strong> (<em>dict</em>)</p></li>
<li><p><strong>image_scale</strong> (<em>str</em>) – Key for scale_factors.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-miit.spatial_data.spatial_omics.imzml">
<span id="imzml"></span><h3>Imzml<a class="headerlink" href="#module-miit.spatial_data.spatial_omics.imzml" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.Imzml">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">Imzml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec_to_ref_map:</span> <span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_spatial_data:</span> <span class="pre">list[miit.spatial_data.base_types.base_imaging.BaseImage</span> <span class="pre">|</span> <span class="pre">miit.spatial_data.base_types.base_imaging.BasePointset]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config:</span> <span class="pre">dict</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msi:</span> <span class="pre">pyimzml.ImzMLParser.ImzMLParser</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#Imzml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.Imzml" title="Link to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.Imzml.convert_mappings_and_unique_ids_back">
<span class="sig-name descname"><span class="pre">convert_mappings_and_unique_ids_back</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mappings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">set</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">set</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#Imzml.convert_mappings_and_unique_ids_back"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.Imzml.convert_mappings_and_unique_ids_back" title="Link to this definition">¶</a></dt>
<dd><p>Helper function to convert internal and external ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mappings</strong> (<em>dict</em>)</p></li>
<li><p><strong>unique_ids</strong> (<em>set</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[dict, set]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.Imzml.extract_ion_image">
<span class="sig-name descname"><span class="pre">extract_ion_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">mz_value:</span> <span class="pre">float,</span> <span class="pre">tol:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0.1,</span> <span class="pre">reduce_func:</span> <span class="pre">~typing.Callable[[~numpy.ndarray],</span> <span class="pre">float]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">&lt;built-in</span> <span class="pre">function</span> <span class="pre">sum&gt;</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#miit.spatial_data.base_types.image.Image" title="miit.spatial_data.base_types.image.Image"><span class="pre">Image</span></a></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#Imzml.extract_ion_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.Imzml.extract_ion_image" title="Link to this definition">¶</a></dt>
<dd><p>Returns an ion image for the given mz_value. Reimplentation of <cite>getionimage</cite> from pyimzml.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mz_value</strong> (<em>float</em>) – m/z value to extract.</p></li>
<li><p><strong>tol</strong> (<em>float</em><em>, </em><em>optional</em>) – tolerance to extract mz_value. Defaults to 0.1.</p></li>
<li><p><strong>reduce_func</strong> (<em>Callable</em><em>[</em><em>[</em><em>numpy.ndarray</em><em>]</em><em>, </em><em>float</em><em>]</em><em>, </em><em>optional</em>) – Function to accumulate intensities that fall into [mz_value - tol, mz_value + tol]. Defaults to sum.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Computed ion image.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#miit.spatial_data.base_types.image.Image" title="miit.spatial_data.base_types.image.Image">Image</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.Imzml.extract_ion_image_by_idx">
<span class="sig-name descname"><span class="pre">extract_ion_image_by_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#miit.spatial_data.base_types.image.Image" title="miit.spatial_data.base_types.image.Image"><span class="pre">Image</span></a></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#Imzml.extract_ion_image_by_idx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.Imzml.extract_ion_image_by_idx" title="Link to this definition">¶</a></dt>
<dd><p>Extracts ion image by indexing the intensity array. Useful when data has been preprocessed and only contains a few ions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> (<em>int</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#miit.spatial_data.base_types.image.Image" title="miit.spatial_data.base_types.image.Image">Image</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.Imzml.get_map_to_msi_pixel_idxs">
<span class="sig-name descname"><span class="pre">get_map_to_msi_pixel_idxs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_mat_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">set</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">set</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#Imzml.get_map_to_msi_pixel_idxs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.Imzml.get_map_to_msi_pixel_idxs" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves spectra ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ref_mat_values</strong> (<em>set</em><em> | </em><em>None</em><em>, </em><em>optional</em>) – Reference matrix ids to use as an additional filter. Defaults to None.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.Imzml.get_pca_img">
<span class="sig-name descname"><span class="pre">get_pca_img</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#miit.spatial_data.base_types.image.Image" title="miit.spatial_data.base_types.image.Image"><span class="pre">Image</span></a></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#Imzml.get_pca_img"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.Imzml.get_pca_img" title="Link to this definition">¶</a></dt>
<dd><p>Compute the PCA image representation of the msi data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>int_threshold</strong> (<em>Optional</em><em>[</em><em>float</em><em>]</em><em>, </em><em>optional</em>) – Intensity threshold. Defaults to None.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>PCA image presentation</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#miit.spatial_data.base_types.image.Image" title="miit.spatial_data.base_types.image.Image">Image</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.Imzml.init_msi_data">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">init_msi_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">imzml_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_resolution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.Imzml" title="miit.spatial_data.spatial_omics.imzml.Imzml"><span class="pre">Imzml</span></a></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#Imzml.init_msi_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.Imzml.init_msi_data" title="Link to this definition">¶</a></dt>
<dd><p>Inits an Imzml object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>imzml_path</strong> (<em>str</em>) – Path to imzml path.</p></li>
<li><p><strong>config</strong> (<em>dict</em><em> | </em><em>None</em><em>, </em><em>optional</em>) – Contains additional user defined data. Defaults to None.</p></li>
<li><p><strong>target_resolution</strong> (<em>int</em><em> | </em><em>None</em><em>, </em><em>optional</em>) – Resolution to which to rescale the msi data. Defaults to 1.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the imzml object. Defaults to ‘’.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#miit.spatial_data.spatial_omics.imzml.Imzml" title="miit.spatial_data.spatial_omics.imzml.Imzml">Imzml</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.Imzml.to_ion_images">
<span class="sig-name descname"><span class="pre">to_ion_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#Imzml.to_ion_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.Imzml.to_ion_images" title="Link to this definition">¶</a></dt>
<dd><p>Produces ion images for the given table. Table columns should refer to the indices used to index msi spectra by pyimzml.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table</strong> (<em>pandas.DataFrame</em>) – Table mapping each msi a pixel to a vector of analytes.
Should have the shape Analytes X Pixel. Table indices are used as labels.</p></li>
<li><p><strong>background_value</strong> (<em>int</em><em>, </em><em>optional</em>) – Defaults to 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Ion images.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#miit.spatial_data.base_types.annotation.Annotation" title="miit.spatial_data.base_types.annotation.Annotation">Annotation</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.compose_dicts">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">compose_dicts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#compose_dicts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.compose_dicts" title="Link to this definition">¶</a></dt>
<dd><p>Composes two dictionaries. If a key is only present in one of the two dictionaries, it
will be skipped.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict1</strong> (<em>dict</em>)</p></li>
<li><p><strong>dict2</strong> (<em>dict</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Composed dictionaries.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.compute_mean_spectrum">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">compute_mean_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ImzMLParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#compute_mean_spectrum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.compute_mean_spectrum" title="Link to this definition">¶</a></dt>
<dd><p>Compute the mean spectrum for all spectra.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msi</strong> (<em>pyimzml.ImzMLParser.ImzMLParser</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Mean spectra.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.compute_weighted_average">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">compute_weighted_average</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measurements</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_weight</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#compute_weighted_average"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.compute_weighted_average" title="Link to this definition">¶</a></dt>
<dd><p>Compute weighted average for measurements. Weight is computed as the sum of weights + background_weight.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>measurements</strong> (<em>pandas.DataFrame</em><em> | </em><em>numpy.ndarray</em>)</p></li>
<li><p><strong>weights</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>background_weight</strong> (<em>float</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.convert_msi_to_reference_matrix">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">convert_msi_to_reference_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ImzMLParser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_resolution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#convert_msi_to_reference_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.convert_msi_to_reference_matrix" title="Link to this definition">¶</a></dt>
<dd><p>Computes reference matrix from msi scaled to target_resolution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msi</strong> (<em>pyimzml.ImzMLParser.ImzMLParser</em>) – Source imzml.</p></li>
<li><p><strong>target_resolution</strong> (<em>int</em><em>, </em><em>optional</em>) – Target resolution to which. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Reference matrix, mapping of msi pixels to reference matrix.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray | dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.convert_to_matrix">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">convert_to_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ImzMLParser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_resolution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#convert_to_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.convert_to_matrix" title="Link to this definition">¶</a></dt>
<dd><p>Computes reference matrix from msi scaled to target_resolution. Will also convert a srd annotation to
a binary annotation matrix, if provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msi</strong> (<em>pyimzml.ImzMLParser.ImzMLParser</em>) – Source imzml.</p></li>
<li><p><strong>srd</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional srd annotation (from SCiLS). Defaults to None.</p></li>
<li><p><strong>target_resolution</strong> (<em>int</em><em>, </em><em>optional</em>) – Target resolution to which. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Reference matrix, mapping of msi pixels to reference matrix, If supplied, srd in matrix form.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[numpy.ndarray, dict, Optional[numpy.ndarray]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.export_imzml">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">export_imzml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_msi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ImzMLParser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integrated_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#export_imzml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.export_imzml" title="Link to this definition">¶</a></dt>
<dd><p>Exports integrated msi data into the imzML format. Most of the work is done by
<cite>pyimzml</cite>’s <cite>ImzMLWriter</cite>. However some information such as pixel size is not provided, which
we add by manually writing the information to the imzML file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template_msi</strong> (<em>pyimzml.ImzMLParser.ImzMLParser</em>) – Template msi. Defines target topology.</p></li>
<li><p><strong>output_path</strong> (<em>str</em>)</p></li>
<li><p><strong>integrated_data</strong> (<em>pandas.DataFrame</em>) – DataFrame containing integrated msi data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.find_nearest">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">find_nearest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#find_nearest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.find_nearest" title="Link to this definition">¶</a></dt>
<dd><p>Find the index and value in the array closest to value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>value</strong> (<em>float</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Closest value, index of closest value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[float, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.flatten_to_row">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">flatten_to_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#flatten_to_row"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.flatten_to_row" title="Link to this definition">¶</a></dt>
<dd><p>Flattens a dataframe to a row.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pandas.DataFrame</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.get_metabolite_intensities">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">get_metabolite_intensities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ImzMLParser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mz_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spectra_idxs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm_f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity_f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#get_metabolite_intensities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.get_metabolite_intensities" title="Link to this definition">¶</a></dt>
<dd><p>Computes metabolite intensities from the given msi data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msi</strong> (<em>pyimzml.ImzMLParser.ImzMLParser</em>) – Souce msi.</p></li>
<li><p><strong>mz_dict</strong> (<em>Dict</em><em>[</em><em>Any</em><em>, </em><em>tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>]</em>) – Dict mapping to mz and radius.</p></li>
<li><p><strong>spectra_idxs</strong> (<em>set</em><em>[</em><em>int</em><em>]</em>) – List of spectra to extract data from.</p></li>
<li><p><strong>norm_f</strong> (<em>Callable</em><em> | </em><em>None</em><em>, </em><em>optional</em>) – Normalisation function. If None, uses <cite>tic_trapz</cite>. Defaults to None.</p></li>
<li><p><strong>intensity_f</strong> (<em>Callable</em><em> | </em><em>None</em><em>, </em><em>optional</em>) – Intensity function, If None, takes the maximum value of the intensity. Defaults to None.</p></li>
<li><p><strong>baseline_f</strong> (<em>Callable</em><em> | </em><em>None</em><em>, </em><em>optional</em>) – Baseline function. If None, uses <cite>simple_baseline</cite>. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict mapping from to computed intensity values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[int | str, list[float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.get_metabolite_intensities_preprocessed">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">get_metabolite_intensities_preprocessed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ImzMLParser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spectra_idxs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mz_intervals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#get_metabolite_intensities_preprocessed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.get_metabolite_intensities_preprocessed" title="Link to this definition">¶</a></dt>
<dd><p>Extracts metabolites from imzml file. Assumes that targets have been preprocessed and selected in SCiLS prior to exporting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msi</strong> (<em>pyimzml.ImzMLParser.ImzMLParser</em>)</p></li>
<li><p><strong>spectra_idxs</strong> (<em>set</em><em>[</em><em>int</em><em>]</em>)</p></li>
<li><p><strong>mz_intervals</strong> (<em>list</em><em>[</em><em>dict</em><em>] </em><em>| </em><em>None</em><em>, </em><em>optional</em>) – . Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>_description_</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[int | str, list[float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.get_metabolite_intensities_targeted">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">get_metabolite_intensities_targeted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ImzMLParser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spectra_idxs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mz_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#get_metabolite_intensities_targeted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.get_metabolite_intensities_targeted" title="Link to this definition">¶</a></dt>
<dd><p>Simply assume that metabolites are already preprocessed and we just want to collect them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msi</strong> (<em>pyimzml.ImzMLParser.ImzMLParser</em>)</p></li>
<li><p><strong>spectra_idxs</strong> (<em>set</em><em>[</em><em>int</em><em>]</em>) – _description_</p></li>
<li><p><strong>mz_labels</strong> (<em>_type_</em><em>, </em><em>optional</em>) – _description_. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>_description_</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[dict[int | str, list[float]], list[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.msi_default_accumulate_spot_weighted_mean">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">msi_default_accumulate_spot_weighted_mean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_counts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measurement_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bck_weight</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#msi_default_accumulate_spot_weighted_mean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.msi_default_accumulate_spot_weighted_mean" title="Link to this definition">¶</a></dt>
<dd><p>Compute the weighted mean for each spot defined in source_keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_keys</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>source_counts</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>measurement_df</strong> (<em>pandas.DataFrame</em>)</p></li>
<li><p><strong>bck_weight</strong> (<em>float</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.msi_default_spot_accumulation_fun">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">msi_default_spot_accumulation_fun</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_counts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measurement_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bck_weight</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accumulator_function</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#msi_default_spot_accumulation_fun"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.msi_default_spot_accumulation_fun" title="Link to this definition">¶</a></dt>
<dd><p>Default function for accumulating spots. If not specific accumulator function is supplied, computes the following
statistics for each accumulated spots: mean, std, min, max, median.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_keys</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>source_counts</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>measurement_df</strong> (<em>pandas.DataFrame</em>)</p></li>
<li><p><strong>bck_weight</strong> (<em>float</em>)</p></li>
<li><p><strong>accumulator_function</strong> (<em>Callable</em><em> | </em><em>None</em><em>, </em><em>optional</em>) – If None, computes mean, std, min, max, median. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.simple_baseline">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">simple_baseline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">intensities</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#simple_baseline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.simple_baseline" title="Link to this definition">¶</a></dt>
<dd><p>Computes a baseline for intensities by subtracting the median intensity of the first 100 intensities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>intensities</strong> (<em>numpy.ndarray</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.spatial_data.spatial_omics.imzml.tic_trapz">
<span class="sig-prename descclassname"><span class="pre">miit.spatial_data.spatial_omics.imzml.</span></span><span class="sig-name descname"><span class="pre">tic_trapz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">intensity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensities</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/miit/spatial_data/spatial_omics/imzml.html#tic_trapz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.spatial_data.spatial_omics.imzml.tic_trapz" title="Link to this definition">¶</a></dt>
<dd><p>Normalizes intensity by using the integral of the intensities.
:param intensity:
:type intensity: float
:param intensities:
:type intensities: numpy.ndarray
:param mz: Defaults to None.
:type mz: float | None, optional</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-miit.spatial_data.section">
<span id="section"></span><h3>Section<a class="headerlink" href="#module-miit.spatial_data.section" title="Link to this heading">¶</a></h3>
</section>
</section>
<section id="utils">
<h2>Utils<a class="headerlink" href="#utils" title="Link to this heading">¶</a></h2>
<section id="module-miit.utils.qupath">
<span id="qupath"></span><h3>QuPath<a class="headerlink" href="#module-miit.utils.qupath" title="Link to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="miit.utils.qupath.convert_linestring_to_polygon">
<span class="sig-prename descclassname"><span class="pre">miit.utils.qupath.</span></span><span class="sig-name descname"><span class="pre">convert_linestring_to_polygon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geom</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">LineString</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Polygon</span></span></span><a class="reference internal" href="_modules/miit/utils/qupath.html#convert_linestring_to_polygon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.utils.qupath.convert_linestring_to_polygon" title="Link to this definition">¶</a></dt>
<dd><p>Convert linestring to polygon.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>geom</strong> (<em>shapely.LineString</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>shapely.Polygon</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.utils.qupath.fill_geojson_multipolygon">
<span class="sig-prename descclassname"><span class="pre">miit.utils.qupath.</span></span><span class="sig-name descname"><span class="pre">fill_geojson_multipolygon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">multipolygon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MultiPolygon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/miit/utils/qupath.html#fill_geojson_multipolygon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.utils.qupath.fill_geojson_multipolygon" title="Link to this definition">¶</a></dt>
<dd><p>Project filled multipolygon onto image template.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>multipolygon</strong> (<em>shapely.MultiPolygon</em>)</p></li>
<li><p><strong>img</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>color</strong> (<em>int</em><em>, </em><em>optional</em>) – Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.utils.qupath.fill_geojson_polygon">
<span class="sig-prename descclassname"><span class="pre">miit.utils.qupath.</span></span><span class="sig-name descname"><span class="pre">fill_geojson_polygon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">polygon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Polygon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/miit/utils/qupath.html#fill_geojson_polygon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.utils.qupath.fill_geojson_polygon" title="Link to this definition">¶</a></dt>
<dd><p>Project filled polygon onto image template.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>polygon</strong> (<em>shapely.Polygon</em>)</p></li>
<li><p><strong>img</strong> (<em>numpy.ndarray</em>)</p></li>
<li><p><strong>color</strong> (<em>int</em><em>, </em><em>optional</em>) – Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.utils.qupath.geojson_to_annotation">
<span class="sig-prename descclassname"><span class="pre">miit.utils.qupath.</span></span><span class="sig-name descname"><span class="pre">geojson_to_annotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geojson_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#miit.spatial_data.base_types.geojson.GeoJSONData" title="miit.spatial_data.base_types.geojson.GeoJSONData"><span class="pre">GeoJSONData</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">FeatureCollection</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Feature</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Feature</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BaseImage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_fun</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Feature</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_non_polygons</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolve_name_conflicts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'geometry'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_object_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_invalid_geom_types</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_multichannel_annotation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#miit.spatial_data.base_types.annotation.Annotation" title="miit.spatial_data.base_types.annotation.Annotation"><span class="pre">Annotation</span></a></span></span><a class="reference internal" href="_modules/miit/utils/qupath.html#geojson_to_annotation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.utils.qupath.geojson_to_annotation" title="Link to this definition">¶</a></dt>
<dd><p>Utility function for converting a geojson object to an
annotation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>geojson_data</strong> (<a class="reference internal" href="#miit.spatial_data.base_types.geojson.GeoJSONData" title="miit.spatial_data.base_types.geojson.GeoJSONData"><em>GeoJSONData</em></a><em> | </em><em>geojson.feature.FeatureCollection</em>) – Data source.</p></li>
<li><p><strong>ref_image</strong> (<em>Union</em><em>[</em><a class="reference internal" href="#miit.spatial_data.base_types.image.Image" title="miit.spatial_data.base_types.image.Image"><em>Image</em></a><em>, </em><em>numpy.ndarray</em><em>]</em>) – Defines the shape of the result annotation.</p></li>
<li><p><strong>label_fun</strong> (<em>Callable</em><em>[</em><em>[</em><em>geojson.feature.Feature</em><em>]</em><em>, </em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Optional function for extracting label names from feature objects.
If not supplied, the labels of the annotation are taken from ‘id’,
otherwise ‘label_fun’ is called.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Name given to returning annotation. Defaults to ‘’.</p></li>
<li><p><strong>skip_non_polygons</strong> (<em>bool</em>) – If False, will try to convert any geom type that is not a polygon, to
a polygon. Defaults to False.</p></li>
<li><p><strong>geometry</strong> (<em>str</em>) – Which geometry to convert. Can either be ‘geometry’ or ‘nucleusGeometry’.
Defaults to ‘geometry’.</p></li>
<li><p><strong>select_object_type</strong> (<em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Chooses which object types to convert based on the object type in feature[‘properties’][‘objectType’].
If empty or None, converts all object types to annotations. Otherwise, only converts object types
specified in ‘select_object_type’.</p></li>
<li><p><strong>keep_properties</strong> (<em>bool</em>) – If True, will return all properties in feature[‘properties’] in the Annotation
attribute ‘meta_information’.</p></li>
<li><p><strong>ignore_invalid_geom_types</strong> (<em>bool</em>) – If True, geometry types that cannot be converted will simply be ignore. Otherwise,
an exception is thrown.</p></li>
<li><p><strong>to_multichannel_annotation</strong> (<em>bool</em>) – If True, will compress all converted annotations into a multichannel annotation. This can save memory
and improve runtime, esp. for large images, but only one annotation per pixel is possible. Which
annotation is chosen when multiple annotations occupy the same pixel is undefined. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#miit.spatial_data.base_types.annotation.Annotation" title="miit.spatial_data.base_types.annotation.Annotation">Annotation</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.utils.qupath.resolve_naming_conflicts_fun">
<span class="sig-prename descclassname"><span class="pre">miit.utils.qupath.</span></span><span class="sig-name descname"><span class="pre">resolve_naming_conflicts_fun</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">existing_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_loop_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/miit/utils/qupath.html#resolve_naming_conflicts_fun"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.utils.qupath.resolve_naming_conflicts_fun" title="Link to this definition">¶</a></dt>
<dd><p>Helper function for retrieving unique label name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>str</em>)</p></li>
<li><p><strong>existing_labels</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>)</p></li>
<li><p><strong>max_loop_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Defaults to 100000.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.utils.qupath.simple_naming_function">
<span class="sig-prename descclassname"><span class="pre">miit.utils.qupath.</span></span><span class="sig-name descname"><span class="pre">simple_naming_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Feature</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/miit/utils/qupath.html#simple_naming_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.utils.qupath.simple_naming_function" title="Link to this definition">¶</a></dt>
<dd><p>Derive name from geojson feature.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>feature</strong> (<em>geojson.Feature</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-miit.utils.scils">
<span id="scils"></span><h3>SCiLS<a class="headerlink" href="#module-miit.utils.scils" title="Link to this heading">¶</a></h3>
<p>Utility functions for SCiLS formats</p>
<dl class="py function">
<dt class="sig sig-object py" id="miit.utils.scils.read_srd">
<span class="sig-prename descclassname"><span class="pre">miit.utils.scils.</span></span><span class="sig-name descname"><span class="pre">read_srd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#miit.spatial_data.base_types.annotation.Annotation" title="miit.spatial_data.base_types.annotation.Annotation"><span class="pre">Annotation</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/miit/utils/scils.html#read_srd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.utils.scils.read_srd" title="Link to this definition">¶</a></dt>
<dd><p>Read srd file and translate into image format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path to srd file.</p></li>
<li><p><strong>dims</strong> (<em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em>) – Size of target image space.</p></li>
<li><p><strong>scale</strong> (<em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em>) – Scaling applied to each datapoint in srd. Defaults to (1, 1).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="miit.utils.scils.read_srd_with_msi">
<span class="sig-prename descclassname"><span class="pre">miit.utils.scils.</span></span><span class="sig-name descname"><span class="pre">read_srd_with_msi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ImzMLParser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_resolution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#miit.spatial_data.base_types.annotation.Annotation" title="miit.spatial_data.base_types.annotation.Annotation"><span class="pre">Annotation</span></a></span></span><a class="reference internal" href="_modules/miit/utils/scils.html#read_srd_with_msi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#miit.utils.scils.read_srd_with_msi" title="Link to this definition">¶</a></dt>
<dd><p>Read srd file using spatial information encoded in</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path to srd file.</p></li>
<li><p><strong>msi</strong> (<em>pyimzml.ImzMLParser.ImzMLParser</em>) – Source msi file. Used as a basis for
scaling and target image size.</p></li>
<li><p><strong>target_resolution</strong> (<em>float</em><em>, </em><em>optional</em>) – Target resolution. Does not adjust for the unit used.
Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>_description_</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#miit.spatial_data.base_types.annotation.Annotation" title="miit.spatial_data.base_types.annotation.Annotation">Annotation</a></p>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to MIIT" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Maximilian Wess.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>